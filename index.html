<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DE-TRUSTED ERP | GLOBAL COMPLIANCE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&family=Roboto+Mono:wght@400;700&display=swap');
        body { font-family: 'Ubuntu', sans-serif; background: #020617; color: #f8fafc; margin: 0; overflow-x: hidden; }
        #security-gate { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #020617; z-index: 9999; display: flex; align-items: center; justify-content: center; }
        .sidebar { background: #0f172a; border-right: 1px solid #1e293b; height: 100vh; width: 260px; position: fixed; z-index: 50; }
        .main-content { margin-left: 260px; min-height: 100vh; padding: 40px; }
        .glass-card { background: #1e293b; border: 1px solid #334155; border-radius: 12px; padding: 25px; }
        .input-box { background: #020617; border: 1px solid #475569; color: white; padding: 10px; border-radius: 6px; width: 100%; margin-top: 4px; font-family: 'Roboto Mono', monospace; font-size: 13px; outline: none; }
        .btn-gold { background: #fbbf24; color: #020617; font-weight: 900; padding: 12px; border-radius: 6px; cursor: pointer; border: none; text-transform: uppercase; font-size: 11px; transition: 0.2s; }
        .btn-gold:hover { background: #fcd34d; }
        .tag { font-size: 10px; padding: 2px 8px; border-radius: 4px; font-weight: bold; }
        .tag-holiday { background: rgba(239, 68, 68, 0.2); color: #f87171; }
        .tag-event { background: rgba(59, 130, 246, 0.2); color: #60a5fa; }
    </style>
</head>
<body>

    <div id="security-gate">
        <div class="glass-card w-80 text-center shadow-2xl">
            <h1 class="text-2xl font-black mb-2 italic text-white">DE-TRUSTED ERP</h1>
            <p class="text-[10px] text-yellow-500 font-bold mb-6 tracking-widest">GATEWAY SECURED</p>
            <input type="password" id="gate-pass" class="input-box text-center mb-4" placeholder="ENTER MASTER KEY">
            <button onclick="unlockSystem()" class="btn-gold w-full">Initialize Terminal</button>
        </div>
    </div>

    <div id="root"></div>

    <script>
        function unlockSystem() {
            if (document.getElementById('gate-pass').value === 'SUPER2025') {
                document.getElementById('security-gate').style.display = 'none';
            } else { alert("ACCESS DENIED"); }
        }

        window.onload = function() {
            const e = React.createElement;
            const { useState, useMemo } = React;

            function App() {
                const [view, setView] = useState('LEAVE');
                const [holidays, setHolidays] = useState([
                    { date: "2025-01-01", name: "New Year's Day", type: "National" },
                    { date: "2025-03-06", name: "Independence Day", type: "National" },
                    { date: "2025-05-01", name: "May Day", type: "National" }
                ]);

                const [newHoliday, setNewHoliday] = useState({ date: '', name: '', type: 'Company' });
                const [employees] = useState([{ id: 1, name: "Kofi Mensah", quota: 21, used: 0 }]);
                const [leaves, setLeaves] = useState([]);
                const [form, setForm] = useState({ empId: '', start: '', end: '', type: 'Annual' });

                // DYNAMIC CALCULATION LOGIC
                const calcDays = (start, end) => {
                    if(!start || !end) return 0;
                    let count = 0; let cur = new Date(start); let last = new Date(end);
                    const holidayDates = holidays.map(h => h.date);

                    while(cur <= last) {
                        const day = cur.getDay();
                        const iso = cur.toISOString().split('T')[0];
                        const isWeekend = (day === 0 || day === 6);
                        const isHoliday = holidayDates.includes(iso);

                        if(!isWeekend && !isHoliday) count++;
                        cur.setDate(cur.getDate() +
