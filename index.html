<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DE-TRUSTED ERP | FULL HCM SUITE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&family=Roboto+Mono:wght@400;700&display=swap');
        body { font-family: 'Ubuntu', sans-serif; background: #020617; color: #f8fafc; margin: 0; }
        .sidebar { background: #0f172a; border-right: 1px solid #1e293b; height: 100vh; width: 260px; position: fixed; z-index: 50; }
        .main-content { margin-left: 260px; min-height: 100vh; padding: 40px; }
        .glass-card { background: #1e293b; border: 1px solid #334155; border-radius: 12px; padding: 25px; }
        .input-box { background: #020617; border: 1px solid #475569; color: white; padding: 10px; border-radius: 6px; width: 100%; margin-top: 4px; font-family: 'Roboto Mono', monospace; font-size: 13px; outline: none; }
        .btn-gold { background: #fbbf24; color: #020617; font-weight: 900; padding: 12px; border-radius: 6px; cursor: pointer; border: none; text-transform: uppercase; font-size: 11px; }
        .section-title { font-size: 10px; font-weight: 800; color: #fbbf24; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 15px; border-bottom: 1px solid #334155; padding-bottom: 5px; }
        .photo-placeholder { width: 100px; height: 100px; border: 2px dashed #475569; border-radius: 12px; display: flex; align-items: center; justify-content: center; background: #0f172a; color: #475569; font-size: 10px; text-align: center; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script>
        window.onload = function() {
            const e = React.createElement;
            const { useState } = React;

            const fmt = (num) => new Intl.NumberFormat('en-GH', { minimumFractionDigits: 2 }).format(num);

            function App() {
                const [isAuth, setIsAuth] = useState(false);
                const [passInput, setPassInput] = useState('');
                const [view, setView] = useState('PAYROLL');

                // DATABASE
                const [employees, setEmployees] = useState([]);
                const [newEmp, setNewEmp] = useState({
                    fName: '', mName: '', lName: '', staffId: '', email: '', phone: '',
                    edu: '', homeAddress: '', gps: '', idType: 'Ghana Card', idNum: '',
                    nokName: '', nokRel: '', nokPhone: '', nokEmail: '', dept: '', pos: ''
                });

                // PAYROLL STATE
                const [selectedEmp, setSelectedEmp] = useState(null);
                const [basicSalary, setBasicSalary] = useState(0);

                const handleLogin = (v) => { v.preventDefault(); if (passInput === 'SUPER2025') setIsAuth(true); else alert("ACCESS DENIED"); };

                const addEmployee = () => {
                    if(!newEmp.fName || !newEmp.lName) return alert("First and Last name are mandatory.");
                    setEmployees([...employees, { ...newEmp, id: Date.now() }]);
                    setNewEmp({ fName: '', mName: '', lName: '', staffId: '', email: '', phone: '', edu: '', homeAddress: '', gps: '', idType: 'Ghana Card', idNum: '', nokName: '', nokRel: '', nokPhone: '', nokEmail: '', dept: '', pos: '' });
                    alert("Employee Profile Secured.");
                };

                if (!isAuth) {
                    return e('div', { className: 'h-screen flex items-center justify-center bg-slate-950' },
                        e('form', { onSubmit: handleLogin, className: 'glass-card w-80 text-center' },
                            e('h1', { className: 'text-2xl font-black mb-4' }, 'DE-TRUSTED ERP'),
                            e('input', { type: 'password', className: 'input-box text-center mb-4', placeholder: 'KEY', value: passInput, onChange: v => setPassInput(v.target.value) }),
                            e('button', { type: 'submit', className: 'btn-gold w-full' }, 'AUTHENTICATE')
                        )
                    );
                }

                return e('div', { className: 'flex' },
                    e('aside', { className: 'sidebar' },
                        e('div', { className: 'p-8 border-b border-slate-800' }, e('h1', { className: 'text-xl font-black italic text-white' }, 'DE-TRUSTED')),
                        e('nav', { className: 'mt-6' },
                            e('div', { onClick: () => setView('PAYROLL'), className: `p-4 cursor-pointer text-xs font-bold ${view === 'PAYROLL' ? 'text-yellow-500 bg-slate-800' : 'text-slate-500'}` }, 'ðŸ’³ PAYROLL'),
                            e('div', { onClick: () => setView('ADD_EMP'), className: `p-4 cursor-pointer text-xs font-bold ${view === 'ADD_EMP' ? 'text-yellow-500 bg-slate-800' : 'text-slate-500'}` }, 'âž• ADD EMPLOYEE'),
                            e('div', { onClick: () => setView('DIR'), className: `p-4 cursor-pointer text-xs font-bold ${view === 'DIR' ? 'text-yellow-500 bg-slate-800' : 'text-slate-500'}` }, 'ðŸ‘¥ DIRECTORY')
                        )
                    ),
                    e('main', { className: 'main-content flex-1' },
                        view === 'ADD_EMP' && e('div', { className: 'max-w-4xl' },
                            e('h2', { className: 'text-3xl font-black mb-8' }, 'New Staff Onboarding'),
                            e('div', { className: 'glass-card space-y-8' },
                                e('div', { className: 'flex gap-6 items-center' }, 
                                    e('div', { className: 'photo-placeholder' }, 'PHOTO\nPLACEHOLDER'),
                                    e('div', { className: 'flex-1 grid grid-cols-3 gap-4' },
                                        e('div', null, e('label', {className:'text-[10px]'}, 'FIRST NAME'), e('input', {className:'input-box', value:newEmp.fName, onChange:v=>setNewEmp({...newEmp, fName:v.target.value})})),
                                        e('div', null, e('label', {className:'text-[10px]'}, 'MIDDLE NAME'), e('input', {className:'input-box', value:newEmp.mName, onChange:v=>setNewEmp({...newEmp, mName:v.target.value})})),
                                        e('div', null, e('label', {className:'text-[10px]'}, 'LAST NAME'), e('input', {className:'input-box', value:newEmp.lName, onChange:v=>setNewEmp({...newEmp, lName:v.target.value})}))
                                    )
                                ),
                                e('div', null, 
                                    e('h3', { className: 'section-title' }, 'Professional & Identity'),
                                    e('div', { className: 'grid grid-cols-3 gap-4' },
                                        e('div', null, e('label', {className:'text-[10px]'}, 'STAFF ID'), e('input', {className:'input-box', value:newEmp.staffId, onChange:v=>setNewEmp({...newEmp, staffId:v.target.value})})),
                                        e('div', null, e('label', {className:'text-[10px]'}, 'ID TYPE'), e('select', {className:'input-box', value:newEmp.idType, onChange:v=>setNewEmp({...newEmp, idType:v.target.value})}, e('option',null,'Ghana Card'), e('option',null,'Passport'), e('option',null,'Voter ID'))),
                                        e('div', null, e('label', {className:'text-[10px]'}, 'ID NUMBER'), e('input', {className:'input-box', value:newEmp.idNum, onChange:v=>setNewEmp({...newEmp, idNum:v.target.value})})),
                                        e('div', null, e('label', {className:'text-[10px]'}, 'DEPARTMENT'), e('input', {className:'input-box', value:newEmp.dept, onChange:v=>setNewEmp({...newEmp, dept:v.target.value})})),
                                        e('div', null, e('label', {className:'text-[10px]'}, 'POSITION'), e('input', {className:'input-box', value:newEmp.pos, onChange:v=>setNewEmp({...newEmp, pos:v.target.value})})),
                                        e('div', null, e('label', {className:'text-[10px]'}, 'EDUCATION'), e('input', {className:'input-box', placeholder:'e.g. MBA Accounting', value:newEmp.edu, onChange:v=>setNewEmp({...newEmp, edu:v.target.value})}))
                                    )
                                ),
                                e('div', null, 
                                    e('h3', { className: 'section-title' }, 'Contact & Location'),
                                    e('div', { className: 'grid grid-cols-2 gap-4' },
                                        e('div', null, e('label', {className:'text-[10px]'}, 'PHONE'), e('input', {className:'input-box', value:newEmp.phone, onChange:v=>setNewEmp({...newEmp, phone:v.target.value})})),
                                        e('div', null, e('label', {className:'text-[10px]'}, 'EMAIL'), e('input', {className:'input-box', value:newEmp.email, onChange:v=>setNewEmp({...newEmp, email:v.target.value})})),
                                        e('div', null, e('label', {className:'text-[10px]'}, 'HOME ADDRESS'), e('input', {className:'input-box', value:newEmp.homeAddress, onChange:v=>setNewEmp({...newEmp, homeAddress:v.target.value})})),
                                        e('div', null, e('label', {className:'text-[10px]'}, 'GPS ADDRESS'), e('input', {className:'input-box', placeholder:'e.g. GA-123-4567', value:newEmp.gps, onChange:v=>setNewEmp({...newEmp, gps:v.target.value})}))
                                    )
                                ),
                                e('div', null, 
                                    e('h3', { className: 'section-title' }, 'Next of Kin / Emergency'),
                                    e('div', { className: 'grid grid-cols-4 gap-4' },
                                        e('div', null, e('label', {className:'text-[10px]'}, 'NOK NAME'), e('input', {className:'input-box', value:newEmp.nokName, onChange:v=>setNewEmp({...newEmp, nokName:v.target.value})})),
                                        e('div', null, e('label', {className:'text-[10px]'}, 'RELATIONSHIP'), e('input', {className:'input-box', value:newEmp.nokRel, onChange:v=>setNewEmp({...newEmp, nokRel:v.target.value})})),
                                        e('div', null, e('label', {className:'text-[10px]'}, 'NOK PHONE'), e('input', {className:'input-box', value:newEmp.nokPhone, onChange:v=>setNewEmp({...newEmp, nokPhone:v.target.value})})),
                                        e('div', null, e('label', {className:'text-[10px]'}, 'NOK EMAIL'), e('input', {className:'input-box', value:newEmp.nokEmail, onChange:v=>setNewEmp({...newEmp, nokEmail:v.target.value})}))
                                    )
                                ),
                                e('button', { className: 'btn-gold w-full', onClick: addEmployee }, 'Save Employee to Database')
