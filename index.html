<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DE-TRUSTED ERP | GLOBAL COMPONENT ENGINE</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Ubuntu:wght@400;500;700&display=swap');
        
        body { font-family: 'Ubuntu', sans-serif; margin: 0; background: #e2e8f0; color: #1e293b; overflow: hidden; }

        .bank-header { background: #001f3f; color: white; padding: 10px 40px; display: flex; justify-content: space-between; align-items: center; border-bottom: 4px solid #fbbf24; position: fixed; width: 100%; top: 0; z-index: 100; height: 60px; }
        .search-bar { background: #ffffff; color: #333; border: none; padding: 8px 20px; border-radius: 4px; width: 400px; font-weight: 700; border: 2px solid #002366; outline: none; }

        .sidebar { background: #001f3f; height: calc(100vh - 60px); position: fixed; width: 240px; top: 60px; overflow-y: auto; padding-bottom: 80px; border-right: 1px solid rgba(255,255,255,0.1); }
        .nav-btn { width: 100%; text-align: left; padding: 12px 25px; font-size: 10px; text-transform: uppercase; color: #cbd5e1; cursor: pointer; border-bottom: 1px solid rgba(255,255,255,0.05); transition: 0.2s; }
        .nav-btn.active { background: #003366; color: #fbbf24; border-left: 5px solid #fbbf24; font-weight: 800; }
        
        .workspace { margin-left: 240px; padding: 85px 40px 40px 40px; height: 100vh; overflow-y: auto; }
        .bank-card { background: white; border-radius: 2px; border: 1px solid #94a3b8; box-shadow: 0 4px 12px rgba(0,0,0,0.1); padding: 30px; min-height: 800px; }
        
        /* GSC COMPONENT STYLING */
        .gsc-engine-label { font-size: 9px; color: #1d4ed8; font-weight: 900; background: #dbeafe; padding: 2px 6px; border-radius: 2px; margin-bottom: 5px; display: inline-block; }
        .field-label { font-size: 10px; font-weight: 800; color: #475569; text-transform: uppercase; margin-bottom: 4px; display: flex; justify-content: space-between; }
        .bank-input { width: 100%; border: 1px solid #cbd5e1; padding: 10px; font-family: 'Roboto Mono', monospace; font-size: 13px; background: #f8fafc; margin-bottom: 15px; border-radius: 4px; }
        
        .words-panel { background: #f0fdf4; border: 1px dashed #16a34a; color: #166534; padding: 12px; font-size: 12px; font-weight: 700; margin-bottom: 20px; border-radius: 4px; position: relative; }
        .words-panel::before { content: "AUTO_CONVERT_READ_ONLY"; position: absolute; top: -8px; right: 10px; font-size: 7px; background: #16a34a; color: white; padding: 1px 4px; }

        .btn-post { background: #001f3f; color: white; padding: 14px 40px; font-weight: 800; border-radius: 2px; text-transform: uppercase; cursor: pointer; border: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script>
        window.onload = function() {
            const e = React.createElement;
            const { useState, useEffect } = React;

            // GSC: GLOBAL CURRENCY & AMOUNT ENGINE
            const gscConvert = (n, code = "GHS") => {
                if (!n || n <= 0) return `Zero ${code === "GHS" ? "Ghana Cedis" : code} Only`;
                const ones = ['', 'One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine'];
                const tens = ['', '', 'Twenty', 'Thirty', 'Forty', 'Fifty', 'Sixty', 'Seventy', 'Eighty', 'Ninety'];
                const teens = ['Ten', 'Eleven', 'Twelve', 'Thirteen', 'Fourteen', 'Fifteen', 'Sixteen', 'Seventeen', 'Eighteen', 'Nineteen'];
                let num = Math.floor(n);
                let res = "";
                if (num >= 1000) { res += ones[Math.floor(num/1000)] + " Thousand "; num %= 1000; }
                if (num >= 100) { res += ones[Math.floor(num/100)] + " Hundred "; num %= 100; }
                if (num >= 20) { res += tens[Math.floor(num/10)] + " "; num %= 10; }
                if (num >= 10) { res += teens[num-10] + " "; num = 0; }
                if (num > 0) { res += ones[num] + " "; }
                return `${res.trim()} ${code === "GHS" ? "Ghana Cedis" : code} Only`;
            };

            const SYSTEM_REGISTRY = {
                "Executive Dash": { desk: "Executive", title: "Strategic Performance", fields: ["Group Revenue", "Operating Margin"] },
                "Fixed Assets": { desk: "Administration", title: "Asset Registry", fields: ["Asset ID", "Name", "Cost", "Depreciation"] },
                "Regulatory Master": { desk: "Administration", title: "Regulatory Hub", fields: ["Agency ID", "Status"] },
                "Payment Voucher": { desk: "Finance", title: "Payment Voucher Master", fields: ["Voucher ID", "Payee", "Amount (Numeric)", "Amount In Words (Auto)", "Currency", "Exchange Rate", "Status"] },
                "Petty Cash Voucher": { desk: "Finance", title: "Petty Cash Form", fields: ["Voucher ID", "Requestor", "Amount (Numeric)", "Amount In Words (Auto)", "Status"] },
                "Expense Claim": { desk: "Finance", title: "Employee Claim", fields: ["Claim ID", "Employee", "Amount (Numeric)", "Amount In Words (Auto)", "Status"] },
                "Production BOM": { desk: "Production", title: "Bill of Materials", fields: ["Product Code", "Unit Cost", "Status"] },
                "Warehouse Stock": { desk: "Warehouse", title: "Inventory Master", fields: ["Item Code", "Balance"] },
                "Visitor Entry": { desk: "Reception", title: "Visitor Log", fields: ["Visit ID", "Visitor Name"] }
            };

            function App() {
                const [currentDesk, setCurrentDesk] = useState('Finance');
                const [activeSub, setActiveSub] = useState('Payment Voucher');
                
                // SHARED STATE: CURRENCY ENGINE
                const [gscAmount, setGscAmount] = useState(0);
                const [gscCurrency, setGscCurrency] = useState('GHS');
                const [gscRate, setGscRate] = useState(1.00);

                const schema = SYSTEM_REGISTRY[activeSub] || { isWelcome: true };

                return e('div', null,
                    e('div', { className: 'bank-header shadow-md' },
                        e('div', { className: 'flex items-center gap-4' },
                            e('h1', { className: 'text-xl font-black tracking-tighter' }, 'DE-TRUSTED ERP'),
                            e('span', { className: 'bg-blue-600 px-2 py-1 text-[9px] rounded font-bold' }, 'GSC_ENGINE_V2')
                        ),
                        e('input', { className: 'search-bar', placeholder: 'RETRIEVE TRANSACTION BY ID...' }),
                        e('div', { className: 'text-[10px] font-bold text-yellow-400' }, '30-DEC-2025 | SHARED_COMPONENTS_ACTIVE')
                    ),

                    e('div', { className: 'sidebar' },
                        ['Executive', 'Administration', 'Finance', 'HR', 'Logistics', 'Warehouse', 'Production', 'Procurement', 'Sales & Marketing', 'Reception'].map(d => 
                            e('div', { 
                                key: d, 
                                onClick: () => { setCurrentDesk(d); setActiveSub(Object.keys(SYSTEM_REGISTRY).find(k => SYSTEM_REGISTRY[k].desk === d)); },
                                className: `nav-btn ${currentDesk === d ? 'active' : ''}` 
                            }, d)
                        )
                    ),

                    e('main', { className: 'workspace' },
                        e('div', { className: 'flex gap-6 h-full' },
                            e('div', { className: 'w-64' },
                                e('div', { className: 'bg-white border border-slate-300 h-full overflow-y-auto' },
                                    e('div', { className: 'p-4 bg-slate-100 text-[9px] font-black border-b tracking-widest' }, 'MODULES'),
                                    Object.keys(SYSTEM_REGISTRY).filter(k => SYSTEM_REGISTRY[k].desk === currentDesk).map(name => 
                                        e('div', { key: name, onClick: () => setActiveSub(name), className: `p-4 text-sm cursor-pointer border-b hover:bg-blue-50 transition-all ${activeSub === name ? 'bg-blue-100 font-bold' : ''}` }, name)
                                    )
                                )
                            ),
                            e('div', { className: 'flex-1' },
                                e('div', { className: 'bank-card' },
                                    e('h2', { className: 'text-2xl font-bold mb-8 border-b pb-4' }, schema.title),
                                    
                                    e('div', { className: 'grid grid-cols-2 gap-x-10' },
                                        schema.fields.map(label => e('div', { key: label },
                                            // GSC Branding on shared fields
                                            (label.includes("Amount") || label.includes("Currency") || label.includes("Rate")) && e('span', { className: 'gsc-engine-label' }, 'GSC SHARED COMPONENT'),
                                            
                                            e('label', { className: 'field-label' }, label),
                                            
                                            label === "Amount In Words (Auto)" ? 
                                                e('div', { className: 'words-panel' }, gscConvert(gscAmount, gscCurrency)) :
                                            
                                            label === "Currency" ? 
                                                e('select', { 
                                                    className: 'bank-input', 
                                                    value: gscCurrency,
                                                    onChange: (x) => {
                                                        setGscCurrency(x.target.value);
                                                        setGscRate(x.target.value === 'USD' ? 12.50 : 1.00);
                                                    }
                                                }, ['GHS', 'USD', 'EUR', 'GBP'].map(c => e('option', {key:c}, c))) :
                                            
                                            label === "Exchange Rate" ?
                                                e('input', { 
                                                    className: `bank-input ${activeSub.includes('Approved') ? 'bg-slate-200' : ''}`, 
                                                    value: gscRate, 
                                                    onChange: (x) => setGscRate(x.target.value),
                                                    readOnly: false // Locked in backend logic upon approval
                                                }) :

                                            e('input', { 
                                                className: 'bank-input', 
                                                type: label.includes("Numeric") ? "number" : "text",
                                                onChange: (x) => { if(label.includes("Numeric")) setGscAmount(x.target.value); },
                                                placeholder: `Enter ${label}...`
                                            })
                                        ))
                                    ),

                                    e('div', { className: 'mt-10 p-5 bg-slate-900 rounded text-[10px] font-mono text-green-400 leading-relaxed' },
                                        "> GSC_INTELLIGENCE: Currency Lock enabled. \n" +
                                        `> CONVERSION_LOG: ${gscAmount} ${gscCurrency} at Rate ${gscRate} = ${ (gscAmount * gscRate).toLocaleString() } Base Units. \n` +
                                        "> IFRS_VALIDATION: OK. \n" +
                                        "> AUDIT_HASH: 8f2a...e911"
                                    ),

                                    e('div', { className: 'mt-8 flex justify-end gap-4' },
                                        e('button', { className: 'px-6 py-3 border border-slate-300 text-xs font-bold' }, 'VIEW TRANSACTION HASH'),
                                        e('button', { className: 'btn-post' }, 'Authorize & Lock Exchange Rate')
                                    )
                                )
                            )
                        )
                    )
                );
            }

            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(e(App));
        };
    </script>
</body>
</html>
