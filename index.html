<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DE-TRUSTED ERP | GL AUTO-POST ENGINE</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Ubuntu:wght@400;500;700&display=swap');
        
        body { font-family: 'Ubuntu', sans-serif; margin: 0; background: #f1f5f9; color: #1e293b; overflow: hidden; }

        .bank-header { background: #001f3f; color: white; padding: 10px 40px; display: flex; justify-content: space-between; align-items: center; border-bottom: 4px solid #fbbf24; position: fixed; width: 100%; top: 0; z-index: 100; height: 65px; }
        .sidebar { background: #001f3f; height: calc(100vh - 65px); position: fixed; width: 260px; top: 65px; overflow-y: auto; padding-bottom: 100px; border-right: 1px solid rgba(255,255,255,0.1); }
        .nav-btn { width: 100%; text-align: left; padding: 14px 25px; font-size: 11px; text-transform: uppercase; color: #cbd5e1; cursor: pointer; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .nav-btn.active { background: #003366; color: #fbbf24; border-left: 6px solid #fbbf24; font-weight: 800; }

        .workspace { margin-left: 260px; padding: 90px 40px 40px 40px; height: 100vh; overflow-y: auto; }
        .bank-card { background: white; border-radius: 4px; border: 1px solid #cbd5e1; box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1); padding: 35px; min-height: 950px; }
        
        /* ACCOUNTING COMPONENTS */
        .ledger-preview { background: #0f172a; border-radius: 4px; padding: 20px; font-family: 'Roboto Mono', monospace; margin-top: 25px; border-left: 4px solid #10b981; }
        .ledger-table { width: 100%; color: #34d399; font-size: 11px; margin-top: 10px; border-collapse: collapse; }
        .ledger-table th { text-align: left; border-bottom: 1px solid #1e293b; padding-bottom: 8px; color: #94a3b8; }
        .ledger-table td { padding: 8px 0; }

        .section-header { font-size: 11px; font-weight: 900; color: #1e40af; background: #eff6ff; padding: 8px 15px; border-radius: 4px; margin: 25px 0 15px 0; text-transform: uppercase; border-left: 4px solid #1e40af; }
        .field-label { font-size: 10px; font-weight: 800; color: #475569; text-transform: uppercase; margin-bottom: 5px; }
        .bank-input { width: 100%; border: 1px solid #cbd5e1; padding: 10px; font-family: 'Roboto Mono', monospace; font-size: 13px; background: #fff; margin-bottom: 15px; border-radius: 4px; }
        
        .status-badge { background: #fef3c7; color: #92400e; padding: 2px 8px; border-radius: 99px; font-size: 9px; font-weight: 900; border: 1px solid #f59e0b; }
        .btn-post { background: #001f3f; color: white; padding: 16px 45px; font-weight: 800; border-radius: 4px; text-transform: uppercase; cursor: pointer; border: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script>
        window.onload = function() {
            const e = React.createElement;
            const { useState, useEffect } = React;

            function App() {
                const [gross, setGross] = useState(0);
                const [targetAccount, setTargetAccount] = useState('Operating Expense');
                const [creditAccount, setCreditAccount] = useState('Main Bank Account');
                const [workflowStep, setWorkflowStep] = useState(1); // 1 to 4
                const [isPosted, setIsPosted] = useState(false);

                // Simulation of auto-posting upon final approval
                const handleApproval = () => {
                    if (workflowStep < 4) {
                        setWorkflowStep(prev => prev + 1);
                    } else {
                        setIsPosted(true);
                    }
                };

                return e('div', null,
                    e('div', { className: 'bank-header shadow-lg' },
                        e('h1', { className: 'text-2xl font-black tracking-tighter' }, 'DE-TRUSTED ERP'),
                        e('span', { className: 'bg-green-600 px-3 py-1 text-[10px] font-black rounded ml-4' }, 'AUTO_POST_ENGINE_READY')
                    ),

                    e('div', { className: 'sidebar' },
                        ['Executive', 'Administration', 'Finance', 'HR', 'Logistics', 'Warehouse', 'Production', 'Procurement', 'Sales & Marketing', 'Reception'].map(d => 
                            e('div', { key: d, className: `nav-btn ${d === 'Finance' ? 'active' : ''}` }, d)
                        )
                    ),

                    e('main', { className: 'workspace' },
                        e('div', { className: 'bank-card' },
                            e('div', { className: 'flex justify-between items-center border-b pb-6' },
                                e('div', null,
                                    e('h2', { className: 'text-3xl font-black' }, 'Payment Voucher'),
                                    e('div', { className: 'flex gap-2 mt-2' }, 
                                        e('span', { className: 'status-badge' }, `STEP ${workflowStep}: ${['Preparer', 'Reviewer', 'Approver', 'Controller'][workflowStep-1]}`),
                                        isPosted && e('span', { className: 'bg-green-100 text-green-800 px-2 py-1 text-[9px] font-black rounded border border-green-300' }, 'POSTED TO GL')
                                    )
                                ),
                                e('div', { className: 'text-right' },
                                    e('p', { className: 'text-[10px] font-black text-slate-400' }, 'TRANSACTION REF'),
                                    e('p', { className: 'text-xl font-mono font-bold' }, `TRX-${Date.now().toString().slice(-6)}`)
                                )
                            ),

                            e('div', { className: 'section-header' }, '1. Accounting Destination (Debit Mapping)'),
                            e('div', { className: 'grid grid-cols-2 gap-x-10' },
                                e('div', null,
                                    e('label', { className: 'field-label' }, 'Account Type'),
                                    e('select', { 
                                        className: 'bank-input', 
                                        onChange: (x) => setTargetAccount(x.target.value) 
                                    }, ['Expense Account', 'Inventory Account', 'Fixed Asset Account'].map(o => e('option', {key:o}, o))),
                                    e('label', { className: 'field-label' }, 'Gross Amount'),
                                    e('input', { className: 'bank-input', type: 'number', value: gross, onChange: (x) => setGross(x.target.value) })
                                ),
                                e('div', null,
                                    e('label', { className: 'field-label' }, 'Specific GL Code'),
                                    e('select', { className: 'bank-input' }, 
                                        ['6001 - Office Supplies', '1201 - Raw Materials', '1501 - Computer Equipment'].map(o => e('option', {key:o}, o))
                                    )
                                )
                            ),

                            e('div', { className: 'section-header' }, '2. Funding Source (Credit Mapping)'),
                            e('div', { className: 'grid grid-cols-2 gap-x-10' },
                                e('div', null,
                                    e('label', { className: 'field-label' }, 'Credit From'),
                                    e('select', { 
                                        className: 'bank-input', 
                                        onChange: (x) => setCreditAccount(x.target.value)
                                    }, ['Main Bank Account', 'Petty Cash Float', 'Mobile Money Wallet'].map(o => e('option', {key:o}, o)))
                                ),
                                e('div', null,
                                    e('label', { className: 'field-label' }, 'Reference Number'),
                                    e('input', { className: 'bank-input', placeholder: 'Cheque or Transfer ID...' })
                                )
                            ),

                            // LEDGER PREVIEW PANEL
                            e('div', { className: 'ledger-preview' },
                                e('div', { className: 'flex justify-between items-center border-b border-slate-800 pb-2' },
                                    e('h3', { className: 'text-xs text-white' }, 'GENERAL LEDGER PREVIEW (AUTO-POST SIMULATION)'),
                                    e('span', { className: 'text-[9px] text-slate-500' }, isPosted ? 'STATUS: FINALIZED' : 'STATUS: PENDING APPROVAL')
                                ),
                                e('table', { className: 'ledger-table' },
                                    e('thead', null, 
                                        e('tr', null, 
                                            e('th', null, 'ACCOUNT'), 
                                            e('th', null, 'DESCRIPTION'), 
                                            e('th', null, 'DEBIT'), 
                                            e('th', null, 'CREDIT')
                                        )
                                    ),
                                    e('tbody', null, 
                                        e('tr', null, 
                                            e('td', null, targetAccount.toUpperCase()), 
                                            e('td', null, 'Voucher Disbursement'), 
                                            e('td', null, gross || '0.00'), 
                                            e('td', null, '0.00')
                                        ),
                                        e('tr', null, 
                                            e('td', null, creditAccount.toUpperCase()), 
                                            e('td', null, 'Funding Settlement'), 
                                            e('td', null, '0.00'), 
                                            e('td', null, gross || '0.00')
                                        )
                                    )
                                )
                            ),

                            e('div', { className: 'mt-10 pt-6 border-t flex justify-end gap-4' },
                                !isPosted && e('button', { 
                                    className: 'btn-post', 
                                    onClick: handleApproval 
                                }, workflowStep < 4 ? `Approve to ${['Reviewer', 'Approver', 'Controller'][workflowStep-1]}` : 'Authorize & Auto-Post to GL'),
                                
                                isPosted && e('button', { className: 'px-8 py-4 bg-green-600 text-white font-bold text-xs rounded' }, 'DOWNLOAD ACCOUNTING ADVICE')
                            )
                        )
                    )
                );
            }

            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(e(App));
        };
    </script>
</body>
</html>
